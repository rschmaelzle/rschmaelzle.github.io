<!-- 1. Load Dependencies (jQuery FIRST, then Bibtex) -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/pcooksey/bibtex-js@1.0.0/src/bibtex_js.js"></script>

<!-- 2. The Data Source -->
<bibtex src="{{ .Get "src" }}"></bibtex>

<!-- 3. The Structure (This groups by Year) -->
<div class="bibtex_structure">
  <div class="group year" sort="desc" style="margin-bottom: 2em;">
    
    <!-- The Year Header -->
    <div style="font-size: 1.5em; font-weight: bold; border-bottom: 2px solid #333; margin-bottom: 1em; margin-top: 2em;">
        <i class="fa fa-calendar"></i> 
    </div>
    
    <!-- The list for that year -->
    <div class="templates"></div>
  
  </div>
</div>

<!-- 4. The Template (The look of one paper) -->
<div id="bibtex_display">
  <div class="bibtex_template" style="display: none;">
    
    <div style="margin-bottom: 1em;">
        <!-- Title -->
        <span class="title" style="font-weight: bold; color: #000;"></span>
        <br>
        
        <!-- Author & Year -->
        <span class="author"></span> (<span class="year"></span>).
        <br>
        
        <!-- Journal -->
        <span class="journal" style="font-style: italic;"></span> <span class="booktitle" style="font-style: italic;"></span>.
        
        <!-- Links -->
        <br>
        <span class="if url" style="margin-right: 5px;">[<a class="url" href="#">LINK</a>]</span>
        <span class="if pdf" style="margin-right: 5px;">[<a class="pdf" href="#">PDF</a>]</span>
        <span class="if doi" style="margin-right: 5px;">[<a class="doi" href="#">DOI</a>]</span>
    </div>

  </div>
</div>

<!-- 5. Force Visibility CSS -->
<style>
    .bibtex_structure, #bibtex_display { display: block !important; }
</style>